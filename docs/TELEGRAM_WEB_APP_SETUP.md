# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Web App

–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤–Ω—É—Ç—Ä–∏ Telegram.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [‚≠ê –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±: Yandex Object Storage (–ë–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞!)](#‚≠ê-–±—ã—Å—Ç—Ä—ã–π-—Å–ø–æ—Å–æ–±-yandex-object-storage-–±–µ–∑-—Ç–µ—Ä–º–∏–Ω–∞–ª–∞)
2. [–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)](#1-–±—ã—Å—Ç—Ä—ã–π-—Å—Ç–∞—Ä—Ç-–ª–æ–∫–∞–ª—å–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App URL –≤ BotFather](#2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-web-app-url-–≤-botfather)
4. [–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è)](#3-–ª–æ–∫–∞–ª—å–Ω–æ–µ-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ä–æ—Å—Å–∏–π—Å–∫–∏–µ-—Ä–µ—à–µ–Ω–∏—è)
5. [Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞](#4-production-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
6. [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤ –±–æ—Ç–∞](#5-–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–∫–Ω–æ–ø–∫–∏-–≤-–±–æ—Ç–∞)

---

## ‚≠ê –ë—ã—Å—Ç—Ä—ã–π —Å–ø–æ—Å–æ–±: Yandex Object Storage (–ë–µ–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞!)

**–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± - —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å Yandex Cloud:**

1. –°–æ–±–µ—Ä–∏—Ç–µ frontend (–∏–ª–∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –∫–æ–ª–ª–µ–≥—É –≤—ã–ø–æ–ª–Ω–∏—Ç—å `npm run build:frontend`)
2. –û—Ç–∫—Ä–æ–π—Ç–µ [Yandex Cloud Console](https://console.cloud.yandex.ru/) ‚Üí Object Storage
3. –°–æ–∑–¥–∞–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –±–∞–∫–µ—Ç
4. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –≤—Å–µ —Ñ–∞–π–ª—ã –∏–∑ `frontend/dist/` —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–µ–±-—Å–∞–π—Ç –≤ –±–∞–∫–µ—Ç–µ (–∏–Ω–¥–µ–∫—Å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç: `index.html`)
6. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://storage.yandexcloud.net/your-bucket/`)
7. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç URL –≤ BotFather

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [YANDEX_OBJECT_STORAGE_DEPLOY.md](YANDEX_OBJECT_STORAGE_DEPLOY.md)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- ‚úÖ –¢–æ–ª—å–∫–æ —Ä–æ—Å—Å–∏–π—Å–∫–∏–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π HTTPS URL
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –†–æ—Å—Å–∏–∏

---

## 1. –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (–ª–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

### –®–∞–≥ 1.1: –ó–∞–ø—É—Å–∫ frontend –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ
npm run dev:frontend
```

Frontend –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:3000`

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** Telegram Web App —Ç—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è —Ä–∞–±–æ—Ç—ã (–∫—Ä–æ–º–µ localhost –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö). –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—É–Ω–Ω–µ–ª—å.

---

## 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Web App URL –≤ BotFather

### –®–∞–≥ 2.1: –û—Ç–∫—Ä—ã—Ç—å BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@BotFather`
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/mybots`
4. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞

### –®–∞–≥ 2.2: –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Web App

1. –í –º–µ–Ω—é –±–æ—Ç–∞ –≤—ã–±–µ—Ä–∏—Ç–µ **"Bot Settings"** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞)
2. –í—ã–±–µ—Ä–∏—Ç–µ **"Menu Button"** (–ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é) –∏–ª–∏ **"Web App"** (–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
3. –ù–∞–∂–º–∏—Ç–µ **"Edit"** (–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å)
4. –í–≤–µ–¥–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   - **–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:** `https://your-ngrok-url.ngrok.io` (—Å–º. —Ä–∞–∑–¥–µ–ª 3)
   - **–î–ª—è production:** `https://app.yourdomain.com`
5. –ù–∞–∂–º–∏—Ç–µ **"Done"** (–ì–æ—Ç–æ–≤–æ)

### –®–∞–≥ 2.3: –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (—á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É)

–ú–æ–∂–Ω–æ —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ BotFather:

```
/setmenubutton
```

–ó–∞—Ç–µ–º:
1. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
2. –í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ")
3. –í–≤–µ–¥–∏—Ç–µ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-ngrok-url.ngrok.io`)

---

## 3. –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–†–æ—Å—Å–∏–π—Å–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è)

### –í–∞—Ä–∏–∞–Ω—Ç 3.1: SSH —Ç—É–Ω–Ω–µ–ª—å (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)

**–°–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–± –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend:
```bash
npm run dev:frontend
```

2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å–æ–∑–¥–∞–π—Ç–µ SSH —Ç—É–Ω–Ω–µ–ª—å:
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: serveo.net (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
ssh -R 80:localhost:3000 serveo.net

# –í–∞—Ä–∏–∞–Ω—Ç 2: localhost.run (—Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)
ssh -R yourname:80:localhost:3000 ssh.localhost.run
```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.serveo.net`)

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç URL –≤ BotFather

**‚ö†Ô∏è –í–∞–∂–Ω–æ:** URL –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ. –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ URL –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –í–∞—Ä–∏–∞–Ω—Ç 3.2.

### –í–∞—Ä–∏–∞–Ω—Ç 3.2: Yandex Cloud Functions (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

**–†–æ—Å—Å–∏–π—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ Yandex Cloud:**

1. –°–æ–∑–¥–∞–π—Ç–µ Cloud Function –≤ Yandex Cloud (—Å–º. [YANDEX_CLOUD_TUNNEL.md](YANDEX_CLOUD_TUNNEL.md))
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é –∫–∞–∫ –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
3. –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π HTTPS URL –≤–∏–¥–∞: `https://functions.yandexcloud.net/your-function-id`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç URL –≤ BotFather

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω—ã–π URL
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –≤ –†–æ—Å—Å–∏–∏
- ‚úÖ –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ (–¥–æ 1 –º–ª–Ω –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [YANDEX_CLOUD_TUNNEL.md](YANDEX_CLOUD_TUNNEL.md)

### –í–∞—Ä–∏–∞–Ω—Ç 3.3: Yandex API Gateway

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç —á–µ—Ä–µ–∑ API Gateway:**

1. –°–æ–∑–¥–∞–π—Ç–µ API Gateway –≤ Yandex Cloud
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
3. –ü–æ–ª—É—á–∏—Ç–µ URL –≤–∏–¥–∞: `https://your-gateway-id.apigw.yandexcloud.net`

üìñ **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [YANDEX_CLOUD_TUNNEL.md](YANDEX_CLOUD_TUNNEL.md)

---

## 4. Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 4.1: –î–µ–ø–ª–æ–π frontend

Frontend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ HTTPS URL. –ù–∞–ø—Ä–∏–º–µ—Ä:
- `https://app.yourdomain.com`
- `https://dating-app.yandexcloud.net`

### –®–∞–≥ 4.2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ BotFather

1. –û—Ç–∫—Ä–æ–π—Ç–µ BotFather ‚Üí `/mybots` ‚Üí –≤—ã–±–µ—Ä–∏—Ç–µ –±–æ—Ç–∞
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Web App URL –Ω–∞ –≤–∞—à production –¥–æ–º–µ–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–æ–º–µ–Ω –∏–º–µ–µ—Ç –≤–∞–ª–∏–¥–Ω—ã–π SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

### –®–∞–≥ 4.3: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ production –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã:

```bash
# Frontend URL (–¥–ª—è –±–æ—Ç–∞)
FRONTEND_URL=https://app.yourdomain.com

# API URL (–¥–ª—è frontend)
VITE_API_URL=https://api.yourdomain.com
```

---

## 5. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –≤ –±–æ—Ç–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é (Menu Button)

–ö–Ω–æ–ø–∫–∞ –º–µ–Ω—é –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤–Ω–∏–∑—É —á–∞—Ç–∞ —Å –±–æ—Ç–æ–º. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ BotFather (—Å–º. —Ä–∞–∑–¥–µ–ª 2).

### –í–∞—Ä–∏–∞–Ω—Ç 2: Inline –∫–Ω–æ–ø–∫–∞ –≤ —Å–æ–æ–±—â–µ–Ω–∏–∏

–û–±–Ω–æ–≤–∏—Ç–µ –±–æ—Ç–∞, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è Web App:

```typescript
// –í bot/src/index.ts —É–∂–µ –µ—Å—Ç—å –ø—Ä–∏–º–µ—Ä –≤ sendMatchNotification
// –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ –∫–æ–º–∞–Ω–¥—É /start:

bot.start(async (ctx) => {
  await ctx.reply('Welcome to Dating App! üéâ', {
    reply_markup: {
      inline_keyboard: [[
        {
          text: 'üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
          web_app: { url: process.env.FRONTEND_URL || 'https://app.yourdomain.com' }
        }
      ]]
    }
  });
});
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ö–æ–º–∞–Ω–¥–∞ /app

–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```typescript
bot.command('app', async (ctx) => {
  await ctx.reply('–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:', {
    reply_markup: {
      inline_keyboard: [[
        {
          text: 'üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
          web_app: { url: process.env.FRONTEND_URL || 'https://app.yourdomain.com' }
        }
      ]]
    }
  });
});
```

---

## 6. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

### –®–∞–≥ 6.1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend: `npm run dev:frontend`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ ngrok: `ngrok http 3000`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ URL –≤ BotFather
4. –û—Ç–∫—Ä–æ–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram
5. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É

### –®–∞–≥ 6.2: –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏

1. –û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ Telegram
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å—Å—è (—Å–º. `App.tsx`)
3. `window.Telegram.WebApp` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω
4. `initData` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –®–∞–≥ 6.3: –û—Ç–ª–∞–¥–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ Telegram:
- **Android:** –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∞–¥—Ä–µ—Å–Ω—É—é —Å—Ç—Ä–æ–∫—É ‚Üí "Debug"
- **iOS:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Safari Web Inspector (–Ω—É–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å iPhone –∫ Mac)
- **Desktop:** F12 –∏–ª–∏ Cmd+Option+I

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
console.log(window.Telegram?.WebApp);
console.log(window.Telegram?.WebApp.initData);
```

---

## 7. –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "Web App –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ URL –∏—Å–ø–æ–ª—å–∑—É–µ—Ç HTTPS (–Ω–µ HTTP)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: "initData –ø—É—Å—Ç–æ–π"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ —á–µ—Ä–µ–∑ Telegram (–Ω–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–∫—Ä–∏–ø—Ç `telegram-web-app.js` –∑–∞–≥—Ä—É–∂–µ–Ω (—Å–º. `index.html`)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `window.Telegram.WebApp.ready()` –≤—ã–∑–≤–∞–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: "–û—à–∏–±–∫–∞ CORS"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Telegram Web App
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ `backend/src/index.ts`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `ALLOWED_ORIGINS` –≤–∫–ª—é—á–∞–µ—Ç –≤–∞—à –¥–æ–º–µ–Ω

### –ü—Ä–æ–±–ª–µ–º–∞: "URL —Ç—É–Ω–Ω–µ–ª—è –º–µ–Ω—è–µ—Ç—Å—è"

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Yandex Cloud Functions –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–≥–æ URL (—Å–º. [YANDEX_CLOUD_TUNNEL.md](YANDEX_CLOUD_TUNNEL.md))
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Yandex API Gateway
- –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Yandex Object Storage + CDN –∏–ª–∏ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω

---

## 8. –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Telegram Web App Documentation](https://core.telegram.org/bots/webapps)
- [BotFather Guide](https://core.telegram.org/bots/tutorial)
- [Yandex Cloud Functions](https://cloud.yandex.ru/docs/functions/)
- [Yandex Cloud Tunnel Guide](YANDEX_CLOUD_TUNNEL.md)
- [Telegram Web App API Reference](https://core.telegram.org/bots/webapps#initializing-web-apps)

---

## 9. –ü—Ä–∏–º–µ—Ä—ã URL

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (SSH —Ç—É–Ω–Ω–µ–ª—å):
```
https://abc123.serveo.net
https://yourname.localhost.run
```

### –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Yandex Cloud):
```
https://functions.yandexcloud.net/your-function-id
https://your-gateway-id.apigw.yandexcloud.net
```

### Production (Yandex Cloud):
```
https://app.yourdomain.com
https://dating-app.yandexcloud.net
https://storage.yandexcloud.net/your-bucket-name/index.html (—á–µ—Ä–µ–∑ CDN)
```

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2024-12-01

